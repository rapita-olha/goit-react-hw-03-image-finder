{"version":3,"sources":["components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ButtonUp/ButtonUp.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/SearchBar/SearchBar.js","services/image-search-api.js","components/ImageGallery/Loader/Loader.js","components/ImageGallery/ErrorView/error-img.png","components/ImageGallery/ErrorView/ErrorView.js","components/ImageGallery/IdleView/welcome-sign.jpg","components/ImageGallery/IdleView/IdleView.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGalleryList/ImageGalleryList.js","components/Button/Button.js","components/Modal/Modal.js","components/ButtonUp/up-arrow.png","components/ButtonUp/ButtonUp.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","SearchBar","state","query","handleChange","value","currentTarget","setState","handleSubmit","e","preventDefault","trim","normalizedQuery","toLowerCase","props","onSubmit","reset","toast","info","searchBar","s","searchForm","button","label","input","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageSearchApi","key","url","page","baseUrl","a","searchParams","URLSearchParams","q","axios","get","response","data","hits","searchQuery","newQuery","App","color","height","width","style","margin","React","ErrorView","paddingTop","src","errorImg","alt","IdleView","welcomeImg","ImageGalleryItem","image","webformatURL","tags","item","ImageGalleryList","trackScroll","window","addEventListener","removeEventListener","images","gallery","onClick","handleOpenModal","map","id","Button","modalRoot","document","querySelector","Modal","handleGalleryNav","code","imgIdx","closeModal","handleBackdropClick","target","modal","overlay","children","createPortal","ButtonUp","isVisible","visible","classNames","buttonUp","imageSearchApi","ImageGallery","error","showModal","showGoUpBtn","showLoadMoreBtn","showLoader","activeIdx","status","resetSearchParams","resetPage","showImages","fetchData","fetchedImages","length","warning","incrementPage","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","scrolled","pageYOffset","coords","clientHeight","goBackToTop","scrollBy","setTimeout","toggleModal","nodeName","findActiveIdx","source","forEach","idx","showNextImage","nextIdx","prevProps","prevState","largeImageURL","setQuery","grid","autoClose","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c581ea27.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchBar_searchForm__3Xn8F\",\"button\":\"SearchBar_button__2XWtF\",\"label\":\"SearchBar_label__C_Myh\",\"input\":\"SearchBar_input__2nawN\",\"searchBar\":\"SearchBar_searchBar__IEmu1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__44u2w\",\"item\":\"ImageGalleryItem_item__o5PU_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1yUzS\",\"Modal\":\"Modal_Modal__1N_5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonUp_button__B8dDE\",\"visible\":\"ButtonUp_visible__1pfGC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2pkpJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1saQB\",\"Button\":\"Button_Button__S5EgF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"App_grid__2B54T\"};","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport s from 'components/SearchBar/SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = ({ currentTarget: { value } }) =>\r\n    this.setState({ query: value });\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.query.trim() === '') {\r\n      toast.info('please type a query');\r\n      return;\r\n    }\r\n\r\n    const normalizedQuery = this.state.query.trim().toLowerCase();\r\n    this.props.onSubmit(normalizedQuery);\r\n    this.setState({ query: '' });\r\n    e.currentTarget.reset();\r\n  };\r\n\r\n  render() {\r\n    const { searchBar, searchForm, button, label, input } = s;\r\n    return (\r\n      <header className={searchBar}>\r\n        <form className={searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={button} onSubmit={this.handleSubmit}>\r\n            <span className={label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import axios from 'axios';\r\n\r\nexport default class ImageSearchApi {\r\n  constructor(key, url) {\r\n    this.query = '';\r\n    this.page = 1;\r\n    this.key = key;\r\n    this.baseUrl = url;\r\n  }\r\n\r\n  async fetchData() {\r\n    const searchParams = new URLSearchParams({\r\n      q: this.query,\r\n      page: this.page,\r\n      key: this.key,\r\n    });\r\n    const url = `${this.baseUrl}image_type=photo&orientation=horizontal&per_page=12&${searchParams}`;\r\n    const response = await axios.get(url);\r\n    return response.data.hits;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  get searchQuery() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set searchQuery(newQuery) {\r\n    this.query = newQuery;\r\n  }\r\n}\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Oval\"\r\n        color=\"#da5f01\"\r\n        height={80}\r\n        width={80}\r\n        style={{ margin: '0 auto' }}\r\n      />\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/error-img.64aecb11.png\";","import errorImg from 'components/ImageGallery/ErrorView/error-img.png';\r\n\r\nexport default function ErrorView() {\r\n  return (\r\n    <div style={{ paddingTop: '100px' }}>\r\n      <img\r\n        src={errorImg}\r\n        alt=\"welcome\"\r\n        width={600}\r\n        style={{ margin: '0 auto' }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/welcome-sign.ae2661a0.jpg\";","import welcomeImg from './welcome-sign.jpg';\r\n\r\nexport default function IdleView() {\r\n  return (\r\n    <div style={{ paddingTop: '100px' }}>\r\n      <img\r\n        src={welcomeImg}\r\n        alt=\"welcome\"\r\n        width={800}\r\n        style={{ margin: '0 auto' }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from 'components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  static propTypes = {\r\n    image: PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  };\r\n  render() {\r\n    const { webformatURL, tags } = this.props.image;\r\n    const { image, item } = s;\r\n    return (\r\n      <li className={item}>\r\n        <img src={webformatURL} alt={tags} className={image} />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport ImageGalleryItem from 'components/ImageGallery/ImageGalleryItem';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\nexport default class ImageGalleryList extends Component {\r\n  static propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n    showImages: PropTypes.func.isRequired,\r\n    handleOpenModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { trackScroll } = this.props;\r\n    window.addEventListener('scroll', trackScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { trackScroll } = this.props;\r\n    window.removeEventListener('scroll', trackScroll);\r\n  }\r\n\r\n  render() {\r\n    const { images } = this.props;\r\n    const { gallery } = s;\r\n    return (\r\n      <>\r\n        <ul className={gallery} onClick={this.props.handleOpenModal}>\r\n          {images &&\r\n            images.map(image => (\r\n              <ImageGalleryItem key={image.id} image={image} />\r\n            ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from 'components/Button/Button.module.css';\r\n\r\nexport default class Button extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { onClick } = this.props;\r\n    const { button } = s;\r\n    return (\r\n      <button type=\"button\" className={button} onClick={onClick}>\r\n        <span>Show more</span>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from 'components/Modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    imgIdx: PropTypes.number.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n    handleGalleryNav: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleGalleryNav);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleGalleryNav);\r\n  }\r\n\r\n  handleGalleryNav = ({ code }) => {\r\n    const { imgIdx, closeModal, handleGalleryNav } = this.props;\r\n\r\n    switch (code) {\r\n      case 'Escape':\r\n        closeModal();\r\n        break;\r\n\r\n      case 'ArrowRight':\r\n        handleGalleryNav(imgIdx + 1);\r\n        break;\r\n\r\n      case 'ArrowLeft':\r\n        handleGalleryNav(imgIdx - 1);\r\n        break;\r\n\r\n      default:\r\n        toast.info('Press ESC to exit');\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = ({ target, currentTarget }) => {\r\n    const { closeModal } = this.props;\r\n    if (target === currentTarget) {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modal, overlay } = s;\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={overlay} onClick={this.handleBackdropClick}>\r\n        <div className={modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/up-arrow.79fd32b5.png\";","import { Component } from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport buttonUp from './up-arrow.png';\r\nimport s from 'components/ButtonUp/ButtonUp.module.css';\r\n\r\nexport default class ButtonUp extends Component {\r\n  static propTypes = {\r\n    isVisible: PropTypes.bool.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { onClick, isVisible } = this.props;\r\n    const { button, visible } = s;\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={isVisible ? classNames(button, visible) : button}\r\n        onClick={onClick}\r\n      >\r\n        <img src={buttonUp} alt=\"go up\" />\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageSearchApi from 'services/image-search-api';\r\nimport Loader from 'components/ImageGallery/Loader';\r\nimport ErrorView from 'components/ImageGallery/ErrorView';\r\nimport IdleView from 'components/ImageGallery/IdleView';\r\nimport ImageGalleryList from 'components/ImageGallery/ImageGalleryList/ImageGalleryList';\r\nimport Button from 'components/Button';\r\nimport Modal from 'components/Modal';\r\nimport ButtonUp from 'components/ButtonUp/ButtonUp';\r\n\r\nconst KEY = '23099958-a9e73d010620c28e46bfb8a54';\r\nconst BASE_URL = 'https://pixabay.com/api/?';\r\nconst imageSearchApi = new ImageSearchApi(KEY, BASE_URL);\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    query: PropTypes.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    images: [],\r\n    error: null,\r\n    showModal: false,\r\n    showGoUpBtn: false,\r\n    showLoadMoreBtn: false,\r\n    showLoader: false,\r\n    activeIdx: null,\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query } = this.props;\r\n    const { images } = this.state;\r\n    if (prevProps.query !== query) {\r\n      this.resetSearchParams();\r\n      this.showImages();\r\n    }\r\n\r\n    if (prevState.images !== images && images && images.length >= 12) {\r\n      this.setState({ showLoadMoreBtn: true });\r\n    }\r\n    if (prevState.images !== images && images && images.length < 12) {\r\n      this.setState({ showLoadMoreBtn: false });\r\n    }\r\n  }\r\n\r\n  resetSearchParams = () => {\r\n    const { query } = this.props;\r\n    imageSearchApi.searchQuery = query;\r\n    imageSearchApi.resetPage();\r\n    this.setState({ images: [] });\r\n  };\r\n\r\n  showImages = async () => {\r\n    this.setState({ showLoader: true });\r\n\r\n    try {\r\n      const fetchedImages = await imageSearchApi.fetchData();\r\n\r\n      if (fetchedImages.length === 0) {\r\n        toast.warning(\"Sorry, we couldn't find anything\");\r\n        this.setState({ status: 'idle' });\r\n        return;\r\n      }\r\n\r\n      this.setState(({ images }) => {\r\n        return {\r\n          images: [...images, ...fetchedImages],\r\n          status: 'resolved',\r\n          showLoader: false,\r\n        };\r\n      });\r\n\r\n      imageSearchApi.incrementPage();\r\n\r\n      if (this.state.images.length > 12) {\r\n        this.scrollDown();\r\n      }\r\n    } catch (error) {\r\n      this.setState({ error, status: 'rejected' });\r\n      toast.error('Something went wrong...(');\r\n    }\r\n  };\r\n\r\n  scrollDown = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  trackScroll = () => {\r\n    let scrolled = window.pageYOffset;\r\n    let coords = document.documentElement.clientHeight;\r\n\r\n    if (scrolled > coords) {\r\n      this.setState({ showGoUpBtn: true });\r\n    }\r\n    if (scrolled < coords) {\r\n      this.setState({ showGoUpBtn: false });\r\n    }\r\n  };\r\n\r\n  goBackToTop = () => {\r\n    if (window.pageYOffset > 0) {\r\n      window.scrollBy(0, -80);\r\n      setTimeout(this.goBackToTop, 0);\r\n    }\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  handleOpenModal = ({ target }) => {\r\n    if (target.nodeName !== 'IMG') {\r\n      return;\r\n    }\r\n    this.findActiveIdx(target.src);\r\n    this.toggleModal();\r\n  };\r\n\r\n  findActiveIdx = source => {\r\n    const { images } = this.state;\r\n    images.forEach(({ webformatURL }, idx) => {\r\n      if (webformatURL === source) {\r\n        this.setState({ activeIdx: idx });\r\n      }\r\n    });\r\n  };\r\n\r\n  showNextImage = nextIdx => {\r\n    const { images } = this.state;\r\n    if (nextIdx === images.length) {\r\n      this.setState({ activeIdx: 0 });\r\n    } else if (nextIdx === -1) {\r\n      this.setState({ activeIdx: images.length - 1 });\r\n    } else {\r\n      this.setState({ activeIdx: nextIdx });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      status,\r\n      images,\r\n      showModal,\r\n      activeIdx,\r\n      showGoUpBtn,\r\n      showLoadMoreBtn,\r\n      showLoader,\r\n    } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <IdleView />;\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return <ErrorView />;\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ImageGalleryList\r\n            images={images}\r\n            showImages={this.showImages}\r\n            handleOpenModal={this.handleOpenModal}\r\n            trackScroll={this.trackScroll}\r\n          />\r\n          {showLoader && <Loader />}\r\n          {showLoadMoreBtn && <Button onClick={this.showImages} />}\r\n\r\n          {<ButtonUp onClick={this.goBackToTop} isVisible={showGoUpBtn} />}\r\n          {showModal && (\r\n            <Modal\r\n              imgIdx={activeIdx}\r\n              closeModal={this.toggleModal}\r\n              handleGalleryNav={this.showNextImage}\r\n            >\r\n              <img\r\n                src={images[activeIdx].largeImageURL}\r\n                alt={images[activeIdx].tags}\r\n                width={1000}\r\n              />\r\n            </Modal>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport SearchBar from 'components/SearchBar';\r\nimport ImageGallery from 'components/ImageGallery';\r\nimport s from './App.module.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  setQuery = query => {\r\n    this.setState({ query });\r\n  };\r\n\r\n  render() {\r\n    const { grid } = s;\r\n    return (\r\n      <div className={grid}>\r\n        <SearchBar onSubmit={this.setQuery} />\r\n        <ImageGallery query={this.state.query} />\r\n        <ToastContainer autoClose={3000} theme=\"dark\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}